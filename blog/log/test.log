  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "articles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime, "updated_at" datetime, "user_id" integer) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "created_at" datetime, "updated_at" datetime, "password_digest" varchar, "is_admin" boolean DEFAULT 'f') 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160807170610')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160717133602')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160717134612')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160729191037')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160801190347')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160801210917')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "articles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "created_at" datetime, "updated_at" datetime, "user_id" integer) [0m
  [1m[35m (3.9ms)[0m  CREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "created_at" datetime, "updated_at" datetime, "password_digest" varchar, "is_admin" boolean DEFAULT 'f') [0m
  [1m[35m (2.3ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160816211542')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160717133602')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160717134612')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160729191037')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160801190347')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160801210917')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160807170610')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 21:44:48.562597"], ["updated_at", "2016-08-16 21:44:48.562597"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (30.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 21:45:12.752079"], ["updated_at", "2016-08-16 21:45:12.752079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Krol karol kupil krolowej karolinie') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Krol karol kupil krolowej Kasi') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 21:45:46.251530"], ["updated_at", "2016-08-16 21:45:46.251530"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('kaczka') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 21:48:18.625894"], ["updated_at", "2016-08-16 21:48:18.625894"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (6.7ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:31:08.233882"], ["updated_at", "2016-08-16 22:31:08.233882"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:32:35.859610"], ["updated_at", "2016-08-16 22:32:35.859610"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:33:03.336427"], ["updated_at", "2016-08-16 22:33:03.336427"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:33:33.030736"], ["updated_at", "2016-08-16 22:33:33.030736"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:34:28.057144"], ["updated_at", "2016-08-16 22:34:28.057144"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
Processing by CategoriesController#new as HTML
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
Processing by CategoriesController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:38:25.623888"], ["updated_at", "2016-08-16 22:38:25.623888"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:41:48.482259"], ["updated_at", "2016-08-16 22:41:48.482259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 5123ms (Views: 5123.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:43:45.216008"], ["updated_at", "2016-08-16 22:43:45.216008"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 267ms (Views: 267.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:43:45.492825"], ["updated_at", "2016-08-16 22:43:45.492825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:43:45.509182"], ["updated_at", "2016-08-16 22:43:45.509182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:43:46.010956"], ["updated_at", "2016-08-16 22:43:46.010956"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:44:09.197708"], ["updated_at", "2016-08-16 22:44:09.197708"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:44:09.266073"], ["updated_at", "2016-08-16 22:44:09.266073"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 230ms (Views: 229.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:44:09.505348"], ["updated_at", "2016-08-16 22:44:09.505348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:44:09.521881"], ["updated_at", "2016-08-16 22:44:09.521881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-16 22:44:41.121005"], ["updated_at", "2016-08-16 22:44:41.121005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:44:41.190616"], ["updated_at", "2016-08-16 22:44:41.190616"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 228ms (Views: 228.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:44:41.427643"], ["updated_at", "2016-08-16 22:44:41.427643"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-16 22:44:41.444558"], ["updated_at", "2016-08-16 22:44:41.444558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:15:33.732699"], ["updated_at", "2016-08-17 18:15:33.732699"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:15:33.873978"], ["updated_at", "2016-08-17 18:15:33.873978"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (2.7ms)
  Rendered layouts/_navigation.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 551ms (Views: 550.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:15:34.433332"], ["updated_at", "2016-08-17 18:15:34.433332"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:15:34.443641"], ["updated_at", "2016-08-17 18:15:34.443641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:15:34 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 27ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:16:26.969736"], ["updated_at", "2016-08-17 18:16:26.969736"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:16:27.032700"], ["updated_at", "2016-08-17 18:16:27.032700"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 247ms (Views: 246.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:16:27.288559"], ["updated_at", "2016-08-17 18:16:27.288559"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:16:27.304807"], ["updated_at", "2016-08-17 18:16:27.304807"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (50.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:16:27 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:26:50 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 288ms (Views: 278.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:26:50 +0200
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:26:51.301171"], ["updated_at", "2016-08-17 18:26:51.301171"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:26:51.306907"], ["updated_at", "2016-08-17 18:26:51.306907"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:26:51.318169"], ["updated_at", "2016-08-17 18:26:51.318169"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:26:51.327864"], ["updated_at", "2016-08-17 18:26:51.327864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:27:19 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 277ms (Views: 266.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:27:19 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
Completed 500 Internal Server Error in 53ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:27:19.410465"], ["updated_at", "2016-08-17 18:27:19.410465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:27:19.420746"], ["updated_at", "2016-08-17 18:27:19.420746"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:27:19.428912"], ["updated_at", "2016-08-17 18:27:19.428912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:27:19.928569"], ["updated_at", "2016-08-17 18:27:19.928569"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:32:24.230458"], ["updated_at", "2016-08-17 18:32:24.230458"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 266ms (Views: 265.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:32:24.505880"], ["updated_at", "2016-08-17 18:32:24.505880"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:32:24.522465"], ["updated_at", "2016-08-17 18:32:24.522465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (507.4ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 513ms (Views: 512.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:32:25.052406"], ["updated_at", "2016-08-17 18:32:25.052406"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:32:25 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 15ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:32:25 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:35:33.179214"], ["updated_at", "2016-08-17 18:35:33.179214"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (438.9ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 676ms (Views: 675.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:35:33.867477"], ["updated_at", "2016-08-17 18:35:33.867477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:35:33.883318"], ["updated_at", "2016-08-17 18:35:33.883318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:35:33.912317"], ["updated_at", "2016-08-17 18:35:33.912317"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:35:33 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:35:33 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:35:56 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (446.6ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 686ms (Views: 672.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:35:56 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 18:35:56.873133"], ["updated_at", "2016-08-17 18:35:56.873133"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to 
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:35:56.918163"], ["updated_at", "2016-08-17 18:35:56.918163"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:35:56.923284"], ["updated_at", "2016-08-17 18:35:56.923284"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:35:56.933191"], ["updated_at", "2016-08-17 18:35:56.933191"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:35:56.943254"], ["updated_at", "2016-08-17 18:35:56.943254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:36:17.121856"], ["updated_at", "2016-08-17 18:36:17.121856"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:36:17.189261"], ["updated_at", "2016-08-17 18:36:17.189261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (12.2ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 253ms (Views: 252.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:36:17.451627"], ["updated_at", "2016-08-17 18:36:17.451627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:36:17.469228"], ["updated_at", "2016-08-17 18:36:17.469228"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:36:17 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 17ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:36:17 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 18:36:17.527363"], ["updated_at", "2016-08-17 18:36:17.527363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 20:36:17 +0200
Processing by CategoriesController#index as HTML
  Rendered categories/index.html.erb within layouts/application (0.1ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:41:06 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (465.5ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 716ms (Views: 702.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:41:07 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 18:41:07.374296"], ["updated_at", "2016-08-17 18:41:07.374296"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 27ms (ActiveRecord: 1.1ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 20:41:07 +0200
Processing by CategoriesController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:41:07.399637"], ["updated_at", "2016-08-17 18:41:07.399637"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:41:07.415832"], ["updated_at", "2016-08-17 18:41:07.415832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:41:07.423286"], ["updated_at", "2016-08-17 18:41:07.423286"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:41:07.432656"], ["updated_at", "2016-08-17 18:41:07.432656"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:41:54 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (430.2ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 678ms (Views: 662.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:41:55 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 18:41:55.302024"], ["updated_at", "2016-08-17 18:41:55.302024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 27ms (ActiveRecord: 1.1ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 20:41:55 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (10.6ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:41:55.349012"], ["updated_at", "2016-08-17 18:41:55.349012"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:41:55.357861"], ["updated_at", "2016-08-17 18:41:55.357861"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (2.8ms)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:41:55.369190"], ["updated_at", "2016-08-17 18:41:55.369190"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:41:55.378057"], ["updated_at", "2016-08-17 18:41:55.378057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:42:48 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (455.1ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 699ms (Views: 683.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:42:48 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 18:42:48.955882"], ["updated_at", "2016-08-17 18:42:48.955882"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 28ms (ActiveRecord: 1.0ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 20:42:48 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.7ms)
  Rendered categories/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:42:48.998985"], ["updated_at", "2016-08-17 18:42:48.998985"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:42:49.004817"], ["updated_at", "2016-08-17 18:42:49.004817"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:42:49.014849"], ["updated_at", "2016-08-17 18:42:49.014849"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:42:49.022807"], ["updated_at", "2016-08-17 18:42:49.022807"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:45:04 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (441.0ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 689ms (Views: 674.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:45:05 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 18:45:05.375165"], ["updated_at", "2016-08-17 18:45:05.375165"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 28ms (ActiveRecord: 1.1ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 20:45:05 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (51.0ms)
  Rendered categories/index.html.erb within layouts/application (55.4ms)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:45:05.448996"], ["updated_at", "2016-08-17 18:45:05.448996"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:45:05.459107"], ["updated_at", "2016-08-17 18:45:05.459107"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 18:45:05.469449"], ["updated_at", "2016-08-17 18:45:05.469449"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (26.5ms)
  Rendered categories/index.html.erb within layouts/application (27.2ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:45:05.502201"], ["updated_at", "2016-08-17 18:45:05.502201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:49:06.730916"], ["updated_at", "2016-08-17 18:49:06.730916"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 20:49:06 +0200
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (14.4ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 299ms (Views: 290.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 20:49:07 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 18:49:07.118057"], ["updated_at", "2016-08-17 18:49:07.118057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 20:49:07 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.8ms)
  Rendered categories/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:49:07.146584"], ["updated_at", "2016-08-17 18:49:07.146584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered categories/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:49:07.164535"], ["updated_at", "2016-08-17 18:49:07.164535"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 18:49:07.175671"], ["updated_at", "2016-08-17 18:49:07.175671"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:10:44 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (2.2ms)
  Rendered categories/new.html.erb within layouts/application (519.9ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (2.1ms)
Completed 200 OK in 789ms (Views: 772.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:10:45 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 19:10:45.747266"], ["updated_at", "2016-08-17 19:10:45.747266"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 32ms (ActiveRecord: 1.4ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:10:45 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (1.1ms)
  Rendered categories/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_navigation.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 15ms (Views: 14.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:10:45.795013"], ["updated_at", "2016-08-17 19:10:45.795013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:10:45.803815"], ["updated_at", "2016-08-17 19:10:45.803815"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:10:45.817007"], ["updated_at", "2016-08-17 19:10:45.817007"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:10:45.826816"], ["updated_at", "2016-08-17 19:10:45.826816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:17:17.945746"], ["updated_at", "2016-08-17 19:17:17.945746"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.5ms)
  Rendered categories/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 279ms (Views: 278.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:17:18.235677"], ["updated_at", "2016-08-17 19:17:18.235677"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.1ms)
  Rendered categories/new.html.erb within layouts/application (767.5ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 774ms (Views: 773.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:17:19.017579"], ["updated_at", "2016-08-17 19:17:19.017579"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:17:19.047393"], ["updated_at", "2016-08-17 19:17:19.047393"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:17:19 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:17:19 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 19:17:19.122170"], ["updated_at", "2016-08-17 19:17:19.122170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 17ms (ActiveRecord: 0.7ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:17:19 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:40:20 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (18.8ms)
  Rendered categories/new.html.erb within layouts/application (620.3ms)
  Rendered layouts/_navigation.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 1210ms (Views: 1156.0ms | ActiveRecord: 0.4ms)
  [1m[36m (42.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:40:21 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:40:21 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 19:40:21.688581"], ["updated_at", "2016-08-17 19:40:21.688581"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 51ms (ActiveRecord: 0.9ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:40:21 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:40:21.724850"], ["updated_at", "2016-08-17 19:40:21.724850"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:40:21.732428"], ["updated_at", "2016-08-17 19:40:21.732428"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:40:21.758601"], ["updated_at", "2016-08-17 19:40:21.758601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:40:21.767256"], ["updated_at", "2016-08-17 19:40:21.767256"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:41:01 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (2.8ms)
  Rendered categories/new.html.erb within layouts/application (467.2ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 699ms (Views: 684.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:41:02 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 19:41:02.416852"], ["updated_at", "2016-08-17 19:41:02.416852"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 28ms (ActiveRecord: 1.0ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:41:02 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.8ms)
  Rendered categories/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:41:02 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:41:02 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:41:02.470834"], ["updated_at", "2016-08-17 19:41:02.470834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:41:02.482960"], ["updated_at", "2016-08-17 19:41:02.482960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:41:02.493232"], ["updated_at", "2016-08-17 19:41:02.493232"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:41:02.500846"], ["updated_at", "2016-08-17 19:41:02.500846"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:46:42.338136"], ["updated_at", "2016-08-17 19:46:42.338136"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.6ms)
  Rendered categories/index.html.erb within layouts/application (8.0ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 4139ms (Views: 4139.0ms | ActiveRecord: 0.1ms)
  [1m[35m (185.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:46:46.673201"], ["updated_at", "2016-08-17 19:46:46.673201"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (443.5ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 447ms (Views: 446.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:46:47.126588"], ["updated_at", "2016-08-17 19:46:47.126588"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:46:47.144293"], ["updated_at", "2016-08-17 19:46:47.144293"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:46:47 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:46:47 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 19:46:47.178627"], ["updated_at", "2016-08-17 19:46:47.178627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:46:47 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:46:47 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:47:02 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (2.7ms)
  Rendered categories/new.html.erb within layouts/application (446.4ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 681ms (Views: 668.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:47:03 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (1.2ms)
  Rendered categories/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 7.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:47:03 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:47:03 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 19:47:03.254179"], ["updated_at", "2016-08-17 19:47:03.254179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:47:03 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (2.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:47:03.275147"], ["updated_at", "2016-08-17 19:47:03.275147"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:47:03.285074"], ["updated_at", "2016-08-17 19:47:03.285074"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:47:03.293829"], ["updated_at", "2016-08-17 19:47:03.293829"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:47:03.303085"], ["updated_at", "2016-08-17 19:47:03.303085"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:49:57.731505"], ["updated_at", "2016-08-17 19:49:57.731505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:49:58.249078"], ["updated_at", "2016-08-17 19:49:58.249078"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 234ms (Views: 233.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:49:58.491996"], ["updated_at", "2016-08-17 19:49:58.491996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.8ms)
  Rendered categories/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:49:58.513230"], ["updated_at", "2016-08-17 19:49:58.513230"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.0ms)
  Rendered categories/new.html.erb within layouts/application (21.2ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 28.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:49:58 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:49:58 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 19:49:58.577625"], ["updated_at", "2016-08-17 19:49:58.577625"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:49:58 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:49:58 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:49:58 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:50:20 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (2.1ms)
  Rendered categories/new.html.erb within layouts/application (436.9ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 671ms (Views: 654.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:50:21 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 19:50:21.573585"], ["updated_at", "2016-08-17 19:50:21.573585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 27ms (ActiveRecord: 1.1ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:50:21 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.9ms)
  Rendered categories/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:50:21 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:50:21 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:50:21.627859"], ["updated_at", "2016-08-17 19:50:21.627859"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:50:21.638302"], ["updated_at", "2016-08-17 19:50:21.638302"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:50:21.646241"], ["updated_at", "2016-08-17 19:50:21.646241"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:50:21.658169"], ["updated_at", "2016-08-17 19:50:21.658169"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:52:08 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (2.4ms)
  Rendered categories/new.html.erb within layouts/application (444.4ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 676ms (Views: 662.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:52:08 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 19:52:08.838680"], ["updated_at", "2016-08-17 19:52:08.838680"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 27ms (ActiveRecord: 1.0ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-17 21:52:08 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.8ms)
  Rendered categories/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-17 21:52:08 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-17 21:52:08 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.7ms)
  Rendered categories/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:52:08.940537"], ["updated_at", "2016-08-17 19:52:08.940537"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:52:08.948380"], ["updated_at", "2016-08-17 19:52:08.948380"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 19:52:08.957545"], ["updated_at", "2016-08-17 19:52:08.957545"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 19:52:08.965353"], ["updated_at", "2016-08-17 19:52:08.965353"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (6.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:28:30.685651"], ["updated_at", "2016-08-17 22:28:30.685651"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:28:31 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.2ms)
  Rendered categories/new.html.erb within layouts/application (71.2ms)
  Rendered layouts/_navigation.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 1198ms (Views: 1169.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:28:32 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 22:28:32.645048"], ["updated_at", "2016-08-17 22:28:32.645048"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:28:32 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.9ms)
  Rendered categories/index.html.erb within layouts/application (23.5ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 41ms (Views: 40.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:28:32 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:28:32 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (1.0ms)
  Rendered categories/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:28:32.770878"], ["updated_at", "2016-08-17 22:28:32.770878"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:28:32.772869"], ["updated_at", "2016-08-17 22:28:32.772869"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:28:32 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:28:32.787064"], ["updated_at", "2016-08-17 22:28:32.787064"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:28:32.812949"], ["updated_at", "2016-08-17 22:28:32.812949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:28:32.820782"], ["updated_at", "2016-08-17 22:28:32.820782"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:30:20.238740"], ["updated_at", "2016-08-17 22:30:20.238740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:30:20 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.9ms)
  Rendered categories/new.html.erb within layouts/application (18.4ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 253ms (Views: 241.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:30:21 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 22:30:21.019665"], ["updated_at", "2016-08-17 22:30:21.019665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:30:21 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.8ms)
  Rendered categories/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:30:21 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.2ms)
  Rendered categories/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:30:21 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (1.3ms)
  Rendered categories/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:30:21.080362"], ["updated_at", "2016-08-17 22:30:21.080362"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:30:21.082641"], ["updated_at", "2016-08-17 22:30:21.082641"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:30:21 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:30:21.098065"], ["updated_at", "2016-08-17 22:30:21.098065"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:30:21.108397"], ["updated_at", "2016-08-17 22:30:21.108397"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:30:21.117788"], ["updated_at", "2016-08-17 22:30:21.117788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------
CreateCategoriesTest: test_should_display_categories_list
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:31:37.327215"], ["updated_at", "2016-08-17 22:31:37.327215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:31:37.329634"], ["updated_at", "2016-08-17 22:31:37.329634"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:31:37 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.5ms)
  Rendered categories/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 274ms (Views: 265.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:31:37.677145"], ["updated_at", "2016-08-17 22:31:37.677145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:31:37.681432"], ["updated_at", "2016-08-17 22:31:37.681432"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:31:37 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.0ms)
  Rendered categories/new.html.erb within layouts/application (503.6ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 509ms (Views: 508.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:31:38 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.7ms)
  Rendered categories/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:31:38.215074"], ["updated_at", "2016-08-17 22:31:38.215074"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:31:38.217077"], ["updated_at", "2016-08-17 22:31:38.217077"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:31:38 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:31:38 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 22:31:38.236575"], ["updated_at", "2016-08-17 22:31:38.236575"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:31:38 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:31:38.253696"], ["updated_at", "2016-08-17 22:31:38.253696"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:31:38.265546"], ["updated_at", "2016-08-17 22:31:38.265546"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:31:38.275387"], ["updated_at", "2016-08-17 22:31:38.275387"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:31:38.286152"], ["updated_at", "2016-08-17 22:31:38.286152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:32:56.837083"], ["updated_at", "2016-08-17 22:32:56.837083"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:32:56.839395"], ["updated_at", "2016-08-17 22:32:56.839395"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:32:56 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (458.5ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 695ms (Views: 686.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:32:57 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (1.2ms)
  Rendered categories/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:32:57.621563"], ["updated_at", "2016-08-17 22:32:57.621563"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:32:57.625858"], ["updated_at", "2016-08-17 22:32:57.625858"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:32:57 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:32:57 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 22:32:57.649100"], ["updated_at", "2016-08-17 22:32:57.649100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:32:57 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (1.1ms)
  Rendered categories/index.html.erb within layouts/application (5.9ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
CreateCategoriesTest: test_should_display_categories_list
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:32:57.673364"], ["updated_at", "2016-08-17 22:32:57.673364"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:32:57.675745"], ["updated_at", "2016-08-17 22:32:57.675745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:32:57 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.1ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:32:57.699805"], ["updated_at", "2016-08-17 22:32:57.699805"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:32:57.706843"], ["updated_at", "2016-08-17 22:32:57.706843"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:32:57.718438"], ["updated_at", "2016-08-17 22:32:57.718438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:32:57.728506"], ["updated_at", "2016-08-17 22:32:57.728506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
CreateCategoriesTest: test_should_display_categories_list
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:17.183668"], ["updated_at", "2016-08-17 22:33:17.183668"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:33:17.186292"], ["updated_at", "2016-08-17 22:33:17.186292"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:33:17 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.5ms)
  Rendered categories/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 286ms (Views: 275.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:33:17.543125"], ["updated_at", "2016-08-17 22:33:17.543125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:33:17.547313"], ["updated_at", "2016-08-17 22:33:17.547313"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:33:17 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.0ms)
  Rendered categories/new.html.erb within layouts/application (507.8ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 514ms (Views: 513.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:33:18 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (1.1ms)
  Rendered categories/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:18.090053"], ["updated_at", "2016-08-17 22:33:18.090053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:33:18.092285"], ["updated_at", "2016-08-17 22:33:18.092285"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:33:18 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:33:18 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 22:33:18.113842"], ["updated_at", "2016-08-17 22:33:18.113842"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:33:18 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:33:18.126185"], ["updated_at", "2016-08-17 22:33:18.126185"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:33:18.136580"], ["updated_at", "2016-08-17 22:33:18.136580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:18.144273"], ["updated_at", "2016-08-17 22:33:18.144273"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:18.152580"], ["updated_at", "2016-08-17 22:33:18.152580"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:33:37.161335"], ["updated_at", "2016-08-17 22:33:37.161335"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:33:37.670341"], ["updated_at", "2016-08-17 22:33:37.670341"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 227ms (Views: 226.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:37.906561"], ["updated_at", "2016-08-17 22:33:37.906561"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered categories/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:37.922429"], ["updated_at", "2016-08-17 22:33:37.922429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.0ms)
  Rendered categories/new.html.erb within layouts/application (21.3ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 28.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
CreateCategoriesTest: test_should_display_categories_list
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:37.960739"], ["updated_at", "2016-08-17 22:33:37.960739"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:33:37.965000"], ["updated_at", "2016-08-17 22:33:37.965000"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:33:37 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:33:38.008183"], ["updated_at", "2016-08-17 22:33:38.008183"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:33:38.010170"], ["updated_at", "2016-08-17 22:33:38.010170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:33:38 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:33:38 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:33:38.035754"], ["updated_at", "2016-08-17 22:33:38.035754"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:33:38.037647"], ["updated_at", "2016-08-17 22:33:38.037647"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:33:38 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:33:38 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 22:33:38.049918"], ["updated_at", "2016-08-17 22:33:38.049918"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:33:38 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:46:05.515564"], ["updated_at", "2016-08-17 22:46:05.515564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:46:05.529283"], ["updated_at", "2016-08-17 22:46:05.529283"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:46:05.531231"], ["updated_at", "2016-08-17 22:46:05.531231"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:46:05 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.0ms)
  Rendered categories/new.html.erb within layouts/application (20.3ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 307ms (Views: 298.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:46:05 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 22:46:05.914547"], ["updated_at", "2016-08-17 22:46:05.914547"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:46:05 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (1.8ms)
  Rendered categories/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:46:05.942824"], ["updated_at", "2016-08-17 22:46:05.942824"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:46:05.946712"], ["updated_at", "2016-08-17 22:46:05.946712"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:46:05 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:46:05 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.7ms)
  Rendered categories/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
CreateCategoriesTest: test_should_display_categories_list
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:46:05.981033"], ["updated_at", "2016-08-17 22:46:05.981033"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:46:05.983020"], ["updated_at", "2016-08-17 22:46:05.983020"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:46:05 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:46:05.998982"], ["updated_at", "2016-08-17 22:46:05.998982"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:46:06.009090"], ["updated_at", "2016-08-17 22:46:06.009090"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:46:06.016933"], ["updated_at", "2016-08-17 22:46:06.016933"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:51:13.706957"], ["updated_at", "2016-08-17 22:51:13.706957"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:51:13.712331"], ["updated_at", "2016-08-17 22:51:13.712331"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:51:13.714247"], ["updated_at", "2016-08-17 22:51:13.714247"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:51:13 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (19.5ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 291ms (Views: 282.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:51:14 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-17 22:51:14.079498"], ["updated_at", "2016-08-17 22:51:14.079498"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:51:14 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (2.4ms)
  Rendered categories/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
CreateCategoriesTest: test_should_display_categories_list
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:51:14.110275"], ["updated_at", "2016-08-17 22:51:14.110275"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:51:14.114330"], ["updated_at", "2016-08-17 22:51:14.114330"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:51:14 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.8ms)
  Rendered categories/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:51:14.140838"], ["updated_at", "2016-08-17 22:51:14.140838"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:51:14.144658"], ["updated_at", "2016-08-17 22:51:14.144658"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:51:14 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:51:14 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:51:14.167957"], ["updated_at", "2016-08-17 22:51:14.167957"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:51:14.177581"], ["updated_at", "2016-08-17 22:51:14.177581"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:51:14.185418"], ["updated_at", "2016-08-17 22:51:14.185418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
CreateCategoriesTest: test_should_display_categories_list
---------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:54:08.314949"], ["updated_at", "2016-08-17 22:54:08.314949"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:54:08.317330"], ["updated_at", "2016-08-17 22:54:08.317330"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:54:08 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.9ms)
  Rendered categories/index.html.erb within layouts/application (6.7ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 285ms (Views: 275.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:54:08.671911"], ["updated_at", "2016-08-17 22:54:08.671911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 22:54:08.676114"], ["updated_at", "2016-08-17 22:54:08.676114"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:54:08 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.1ms)
  Rendered categories/new.html.erb within layouts/application (503.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 509ms (Views: 508.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:54:09 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.7ms)
  Rendered categories/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:54:09.221199"], ["updated_at", "2016-08-17 22:54:09.221199"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-17 22:54:09.223666"], ["updated_at", "2016-08-17 22:54:09.223666"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 00:54:09 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.0ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 00:54:09 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 22:54:09.234810"], ["updated_at", "2016-08-17 22:54:09.234810"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 00:54:09 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:54:09.255088"], ["updated_at", "2016-08-17 22:54:09.255088"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:54:09.260466"], ["updated_at", "2016-08-17 22:54:09.260466"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 22:54:09.271320"], ["updated_at", "2016-08-17 22:54:09.271320"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 22:54:09.280312"], ["updated_at", "2016-08-17 22:54:09.280312"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 14ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 23:05:11.597705"], ["updated_at", "2016-08-17 23:05:11.597705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 23:05:12.016824"], ["updated_at", "2016-08-17 23:05:12.016824"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-17 23:05:12.018799"], ["updated_at", "2016-08-17 23:05:12.018799"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-18 01:05:12 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (1.3ms)
  Rendered categories/index.html.erb within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 287ms (Views: 278.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 23:05:12.382596"], ["updated_at", "2016-08-17 23:05:12.382596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (1.1ms)
  Rendered categories/new.html.erb within layouts/application (20.7ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 28ms (Views: 28.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-17 23:05:12.423282"], ["updated_at", "2016-08-17 23:05:12.423282"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 7.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-17 23:05:12.448256"], ["updated_at", "2016-08-17 23:05:12.448256"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 01:05:12 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-18 01:05:12 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-17 23:05:12.468797"], ["updated_at", "2016-08-17 23:05:12.468797"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-18 01:05:12 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-18 01:05:12 +0200
Processing by CategoriesController#new as HTML
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-18 01:05:12 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (17.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (9.7ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:33:51.053786"], ["updated_at", "2016-08-19 18:33:51.053786"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:33:51.081315"], ["updated_at", "2016-08-19 18:33:51.081315"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (1.0ms)
  Rendered categories/index.html.erb within layouts/application (8.9ms)
  Rendered layouts/_navigation.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 345ms (Views: 343.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:33:51.433057"], ["updated_at", "2016-08-19 18:33:51.433057"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:33:51.441641"], ["updated_at", "2016-08-19 18:33:51.441641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 9.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:33:51.470664"], ["updated_at", "2016-08-19 18:33:51.470664"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-19 18:33:51.474498"], ["updated_at", "2016-08-19 18:33:51.474498"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:33:51 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation.html.erb (27.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 39ms (Views: 30.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:33:52.039839"], ["updated_at", "2016-08-19 18:33:52.039839"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:33:52 +0200
Processing by CategoriesController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:33:52 +0200
Processing by CategoriesController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:43:03.380025"], ["updated_at", "2016-08-19 18:43:03.380025"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-19 18:43:03.382778"], ["updated_at", "2016-08-19 18:43:03.382778"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:43:03 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.8ms)
  Rendered categories/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_navigation.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 283ms (Views: 272.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:43:04.272581"], ["updated_at", "2016-08-19 18:43:04.272581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:43:04.291762"], ["updated_at", "2016-08-19 18:43:04.291762"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:43:04.298292"], ["updated_at", "2016-08-19 18:43:04.298292"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:43:04.311741"], ["updated_at", "2016-08-19 18:43:04.311741"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:43:04.317468"], ["updated_at", "2016-08-19 18:43:04.317468"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:43:17.608597"], ["updated_at", "2016-08-19 18:43:17.608597"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-19 18:43:17.611224"], ["updated_at", "2016-08-19 18:43:17.611224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:43:17 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.9ms)
  Rendered categories/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 284ms (Views: 274.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (14.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$WmkoEtZs6dP0kKVsM1hFb.Dbqdu28VW7V.zUR9qlpkWnLtqesu/GC"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:43:18.042210"], ["updated_at", "2016-08-19 18:43:18.042210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:43:18 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:43:18 +0200
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered shared/_errors.html.erb (1.1ms)
  Rendered categories/new.html.erb within layouts/application (494.0ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 499ms (Views: 497.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:43:18 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (0.9ms)
  Rendered categories/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$lVdWMpCJBFd74VIpiZUbuuQVZopgNtObZE11E.Uok2n7EgXnyTSuO"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:43:18.587681"], ["updated_at", "2016-08-19 18:43:18.587681"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:43:18 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:43:18 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:43:18 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-19 18:43:18.608113"], ["updated_at", "2016-08-19 18:43:18.608113"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:43:18 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:43:18.620370"], ["updated_at", "2016-08-19 18:43:18.620370"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:43:18.630911"], ["updated_at", "2016-08-19 18:43:18.630911"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:43:18.636757"], ["updated_at", "2016-08-19 18:43:18.636757"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:43:18.641029"], ["updated_at", "2016-08-19 18:43:18.641029"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:43:18.656669"], ["updated_at", "2016-08-19 18:43:18.656669"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:44:25.257683"], ["updated_at", "2016-08-19 18:44:25.257683"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:44:25.266427"], ["updated_at", "2016-08-19 18:44:25.266427"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.7ms)
  Rendered categories/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_navigation.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 267ms (Views: 266.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:44:25.540724"], ["updated_at", "2016-08-19 18:44:25.540724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 7.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:44:25.569037"], ["updated_at", "2016-08-19 18:44:25.569037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$kWsTsGwbPOmqs3TuD7e4j.DcglZVb/G.oljgFGXKKryin0QkI.mMK"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:44:25.630643"], ["updated_at", "2016-08-19 18:44:25.630643"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:44:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:44:25 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (456.1ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 462ms (Views: 460.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:44:26 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$igBcTOKdKYzVZsDh5gKlau5lt9jdc7aSa4YM7p6lG3p/eo7O./GzG"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:44:26.142147"], ["updated_at", "2016-08-19 18:44:26.142147"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:44:26 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:44:26 +0200
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:44:26 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-19 18:44:26.162726"], ["updated_at", "2016-08-19 18:44:26.162726"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:44:26 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (1.3ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:44:26.176441"], ["updated_at", "2016-08-19 18:44:26.176441"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-19 18:44:26.178557"], ["updated_at", "2016-08-19 18:44:26.178557"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:44:26 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.5ms)
  Rendered categories/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:44:26.201289"], ["updated_at", "2016-08-19 18:44:26.201289"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:45:58.431111"], ["updated_at", "2016-08-19 18:45:58.431111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:45:58.501846"], ["updated_at", "2016-08-19 18:45:58.501846"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$z7W2ruJAfaSiRa3TWOcQ2esuHdyUvAF7m3WnLJ8tOObp4irhxBRBW"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:45:58.518861"], ["updated_at", "2016-08-19 18:45:58.518861"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:45:58.525828"], ["updated_at", "2016-08-19 18:45:58.525828"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:45:58.533535"], ["updated_at", "2016-08-19 18:45:58.533535"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('notadmin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('not_admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "notadmin"], ["password_digest", "$2a$04$4sQRI7zZuLUqooRJWVIyvO/wCDV8wi/ygdDPeG8XUOF.vjCPs9MWO"], ["email", "not_admin@admin.pl"], ["created_at", "2016-08-19 18:45:58.539675"], ["updated_at", "2016-08-19 18:45:58.539675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:45:58.544776"], ["updated_at", "2016-08-19 18:45:58.544776"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 304ms (Views: 297.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:45:58.856375"], ["updated_at", "2016-08-19 18:45:58.856375"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (1.3ms)
  Rendered categories/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:45:58.882357"], ["updated_at", "2016-08-19 18:45:58.882357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-19 18:45:58.886596"], ["updated_at", "2016-08-19 18:45:58.886596"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:45:58 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 16ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$3diPZnerevGWthQ4iBjwZeMIqZQwHiNXW.PlemWsCsmibs6PzP0.S"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:45:58.934172"], ["updated_at", "2016-08-19 18:45:58.934172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:45:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:45:58 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.4ms)
  Rendered categories/new.html.erb within layouts/application (9.0ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:45:58 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-19 18:45:58.972539"], ["updated_at", "2016-08-19 18:45:58.972539"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:45:58 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$36z8Ad6PaiLSTQdgFs.4..Dj9FBn0cwHp.RhUGy2v8BJa9dlVvuEi"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:45:58.986397"], ["updated_at", "2016-08-19 18:45:58.986397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:45:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:45:58 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:45:59 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$PoIemrneanSCUrwRayw13u4svq94dOx7ilqcXPJ0JpvVPdcTibXgm"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:47:32.281482"], ["updated_at", "2016-08-19 18:47:32.281482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:47:32 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 16ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:47:32 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (508.2ms)
  Rendered layouts/_navigation.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 760ms (Views: 753.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:47:33 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-19 18:47:33.147660"], ["updated_at", "2016-08-19 18:47:33.147660"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:47:33 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (1.4ms)
  Rendered categories/index.html.erb within layouts/application (6.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_navigation.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$ocTvyjUdKSzwJIAZtPKGCugNUYr0kUut1E316ZtzLkTHsHPL7SmDK"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:47:33.182314"], ["updated_at", "2016-08-19 18:47:33.182314"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:47:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:47:33 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:47:33 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (1.4ms)
  Rendered categories/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_navigation.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 16ms (Views: 9.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:47:33.241439"], ["updated_at", "2016-08-19 18:47:33.241439"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:47:33.261893"], ["updated_at", "2016-08-19 18:47:33.261893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:47:33.277986"], ["updated_at", "2016-08-19 18:47:33.277986"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$c9l0BDHl.9IEYdR1lo2awuFNFBw3TNjhAOlgzz6mhbHKIzhgXs9sK"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:47:33.282882"], ["updated_at", "2016-08-19 18:47:33.282882"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:47:33.288624"], ["updated_at", "2016-08-19 18:47:33.288624"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:47:33.295299"], ["updated_at", "2016-08-19 18:47:33.295299"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:47:33.308341"], ["updated_at", "2016-08-19 18:47:33.308341"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('notadmin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('not_admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "notadmin"], ["password_digest", "$2a$04$mvkvoywBuuEPfBo3z8XUHu9pW0ovb5ACHBNU7AydZkhlivRYcdfCq"], ["email", "not_admin@admin.pl"], ["created_at", "2016-08-19 18:47:33.318462"], ["updated_at", "2016-08-19 18:47:33.318462"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:47:33.325900"], ["updated_at", "2016-08-19 18:47:33.325900"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-19 18:47:33.327693"], ["updated_at", "2016-08-19 18:47:33.327693"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:47:33 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.5ms)
  Rendered categories/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$v9EFIzSG40ogP8yAh3BV3e8sWl6yrbkoT/XEDubsOu1fdMQGIJtbm"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:48:14.691502"], ["updated_at", "2016-08-19 18:48:14.691502"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:48:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 18ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:48:14 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (447.3ms)
  Rendered layouts/_navigation.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 672ms (Views: 666.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:48:15 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-19 18:48:15.460868"], ["updated_at", "2016-08-19 18:48:15.460868"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:48:15 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (1.5ms)
  Rendered categories/index.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_navigation.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$rpgEpgRQBt0QVwFBOb7cv.1N4aGX/3YZxm/YaRMl6NE4bu8K48mKK"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:48:15.496574"], ["updated_at", "2016-08-19 18:48:15.496574"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:48:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:48:15 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.2ms)
  Rendered categories/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:48:15 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:48:15.542048"], ["updated_at", "2016-08-19 18:48:15.542048"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:48:15.549507"], ["updated_at", "2016-08-19 18:48:15.549507"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36m (18.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:15.578490"], ["updated_at", "2016-08-19 18:48:15.578490"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$xrN0SdcwmCqCaNAR.TyOXeqcyp/RbT672Dm8MUpnOfT.5WJK8Toaa"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:48:15.584186"], ["updated_at", "2016-08-19 18:48:15.584186"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:48:15.589127"], ["updated_at", "2016-08-19 18:48:15.589127"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('notadmin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('not_admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "notadmin"], ["password_digest", "$2a$04$ZC6MVLZ3NdGuu2jhDrt9AezqKSpmqlMYiddm3MdcwpK3yE5R59h/O"], ["email", "not_admin@admin.pl"], ["created_at", "2016-08-19 18:48:15.594850"], ["updated_at", "2016-08-19 18:48:15.594850"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:15.600140"], ["updated_at", "2016-08-19 18:48:15.600140"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:48:15.610480"], ["updated_at", "2016-08-19 18:48:15.610480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-19 18:48:15.613719"], ["updated_at", "2016-08-19 18:48:15.613719"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:48:15 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:15.638164"], ["updated_at", "2016-08-19 18:48:15.638164"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:57.255289"], ["updated_at", "2016-08-19 18:48:57.255289"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:57.264945"], ["updated_at", "2016-08-19 18:48:57.264945"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.7ms)
  Rendered categories/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_navigation.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 282ms (Views: 281.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:48:57.553171"], ["updated_at", "2016-08-19 18:48:57.553171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 19ms (Views: 7.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:57.580151"], ["updated_at", "2016-08-19 18:48:57.580151"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('notadmin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('not_admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "notadmin"], ["password_digest", "$2a$04$Ka1HiOZsuB8XMBih4FuPVOfYEcwijygJcSi1ZlzkpKz/xuRqH4YEm"], ["email", "not_admin@admin.pl"], ["created_at", "2016-08-19 18:48:57.638790"], ["updated_at", "2016-08-19 18:48:57.638790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:48:57.644656"], ["updated_at", "2016-08-19 18:48:57.644656"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$HcH6V98LTUoNiaDsZyuiV.y1d8TNZd2cKjbXfUYg5B2qVXrK2faOC"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:48:57.649177"], ["updated_at", "2016-08-19 18:48:57.649177"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$FEQ5dItIWvEW0pNf.tJrv.gJjv6MP93yQJb9t8H8tcy1pGyuP44I6"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:48:57.656608"], ["updated_at", "2016-08-19 18:48:57.656608"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:48:57 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:48:57 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (493.9ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 500ms (Views: 497.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:48:58 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-19 18:48:58.200701"], ["updated_at", "2016-08-19 18:48:58.200701"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:48:58 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$f2Lfut0wiFJjYizg5DaGTuRm3hw6aTuXY8gSh8KHyWYg5ZhvlLc2."], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:48:58.216673"], ["updated_at", "2016-08-19 18:48:58.216673"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:48:58 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:48:58 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:48:58 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:58.248720"], ["updated_at", "2016-08-19 18:48:58.248720"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:48:58.259506"], ["updated_at", "2016-08-19 18:48:58.259506"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Filmy"], ["created_at", "2016-08-19 18:48:58.262360"], ["updated_at", "2016-08-19 18:48:58.262360"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:48:58 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:52:54.803378"], ["updated_at", "2016-08-19 18:52:54.803378"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navigation.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 276ms (Views: 270.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:52:55.088865"], ["updated_at", "2016-08-19 18:52:55.088865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (3.1ms)
  Rendered categories/index.html.erb within layouts/application (9.1ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:52:55.112332"], ["updated_at", "2016-08-19 18:52:55.112332"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:52:55.122631"], ["updated_at", "2016-08-19 18:52:55.122631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$wEdM48q80vW7MZt2JJ/XwuQYE3qmwubCFwT7AJq/Mmgr8blFX6.TC"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:52:55.177463"], ["updated_at", "2016-08-19 18:52:55.177463"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:52:55.182242"], ["updated_at", "2016-08-19 18:52:55.182242"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('non_admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('non_admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "non_admin"], ["password_digest", "$2a$04$07u3dkJCrdWHmPkwlF4iqONFb.D6lB4J22/8kcBMwMffD6Ht2r0d6"], ["email", "non_admin@admin.pl"], ["created_at", "2016-08-19 18:52:55.187622"], ["updated_at", "2016-08-19 18:52:55.187622"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$crLME1HHRwgXKjGWPP9Jde.B5g/JHpYvkIJuAlSIela5fi9mLYwHu"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:52:55.194920"], ["updated_at", "2016-08-19 18:52:55.194920"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (457.8ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 463ms (Views: 461.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.8ms)
  Rendered categories/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$oKuDoyVcSO7rTeTsAd0c8.zXhXEQWBe4N.j/gPMnagi1C51vRnsT."], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:52:55.713629"], ["updated_at", "2016-08-19 18:52:55.713629"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered shared/_errors.html.erb (0.0ms)
  Rendered categories/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-19 18:52:55.732674"], ["updated_at", "2016-08-19 18:52:55.732674"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:52:55.747068"], ["updated_at", "2016-08-19 18:52:55.747068"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-19 18:52:55.748958"], ["updated_at", "2016-08-19 18:52:55.748958"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:52:55 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.4ms)
  Rendered categories/index.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:52:55.769415"], ["updated_at", "2016-08-19 18:52:55.769415"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:53:18.062523"], ["updated_at", "2016-08-19 18:53:18.062523"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$wiSLxXF1tjEAN84FXykilu3AY5h.PZqMGyVd7eM5WPPeC/VIfA1za"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:53:18.077715"], ["updated_at", "2016-08-19 18:53:18.077715"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:53:18.083743"], ["updated_at", "2016-08-19 18:53:18.083743"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('non_admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('non_admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "non_admin"], ["password_digest", "$2a$04$s1dCIq8auZceXfj2IwuKeeXd8fH1ijkSDlindqNi9xs1FlY5itQBq"], ["email", "non_admin@admin.pl"], ["created_at", "2016-08-19 18:53:18.091949"], ["updated_at", "2016-08-19 18:53:18.091949"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:53:18.096090"], ["updated_at", "2016-08-19 18:53:18.096090"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (2.4ms)
  Rendered layouts/_navigation.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 316ms (Views: 310.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:53:18.418706"], ["updated_at", "2016-08-19 18:53:18.418706"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (1.4ms)
  Rendered categories/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_navigation.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:53:18.441312"], ["updated_at", "2016-08-19 18:53:18.441312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$7HQAeuU4CzUp1CmThXZbt.JJEreumIQ6Ine.T.OqCrgKAKO3cQ7ny"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:53:18.451393"], ["updated_at", "2016-08-19 18:53:18.451393"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:53:18 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:53:18 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.7ms)
  Rendered categories/new.html.erb within layouts/application (461.2ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 466ms (Views: 464.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:53:18 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered categories/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$x6cd.9uWLo7FL0p1ZVDDu.zOC.nKKLu6CV6n/05304SknIHBeQIT."], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:53:18.971319"], ["updated_at", "2016-08-19 18:53:18.971319"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:53:18 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:53:18 +0200
Processing by CategoriesController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:53:18 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ksiazki"], ["created_at", "2016-08-19 18:53:18.990720"], ["updated_at", "2016-08-19 18:53:18.990720"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/categories
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:53:18 +0200
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered layouts/_navigation.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:53:19.004587"], ["updated_at", "2016-08-19 18:53:19.004587"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-19 18:53:19.006334"], ["updated_at", "2016-08-19 18:53:19.006334"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:53:19 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:53:19.025361"], ["updated_at", "2016-08-19 18:53:19.025361"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36m (18.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$YVbt.D04MqyRh95lIieNRO7UGTUYJdEzttcrRyMZVghIlXhyog2T6"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:53:51.419447"], ["updated_at", "2016-08-19 18:53:51.419447"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:53:51 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 17ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:53:51 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (458.6ms)
  Rendered layouts/_navigation.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 688ms (Views: 682.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:53:52 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-19 18:53:52.204760"], ["updated_at", "2016-08-19 18:53:52.204760"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:53:52 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (1.5ms)
  Rendered categories/index.html.erb within layouts/application (7.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_navigation.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (17.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$f0NbzrbjfMmyZ2dCSxgEpeDdUaROANrrrPBD1pyAo7cHYOGIY1uBq"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:53:52.254455"], ["updated_at", "2016-08-19 18:53:52.254455"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-19 20:53:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-19 20:53:52 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-19 20:53:52 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.6ms)
  Rendered categories/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:53:52.285721"], ["updated_at", "2016-08-19 18:53:52.285721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-19 18:53:52.287570"], ["updated_at", "2016-08-19 18:53:52.287570"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-19 20:53:52 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.3ms)
  Rendered categories/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navigation.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:53:52.303274"], ["updated_at", "2016-08-19 18:53:52.303274"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:53:52.312195"], ["updated_at", "2016-08-19 18:53:52.312195"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$NJIY0ArzG5l0ta///40DQuHVR9W0426Mah0pAS1AiBq25J/geT1ym"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-19 18:53:52.316153"], ["updated_at", "2016-08-19 18:53:52.316153"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:53:52.322396"], ["updated_at", "2016-08-19 18:53:52.322396"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-19 18:53:52.332593"], ["updated_at", "2016-08-19 18:53:52.332593"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('non_admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('non_admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["username", "non_admin"], ["password_digest", "$2a$04$QZPQOrTJO.nwrtUqjHa8ZOPr3Lol/sUNlbdY6rjcknSg247sWlGz."], ["email", "non_admin@admin.pl"], ["created_at", "2016-08-19 18:53:52.339300"], ["updated_at", "2016-08-19 18:53:52.339300"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:53:52.344088"], ["updated_at", "2016-08-19 18:53:52.344088"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-19 18:53:52.350819"], ["updated_at", "2016-08-19 18:53:52.350819"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (26.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (5.8ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-20 19:43:53.024931"], ["updated_at", "2016-08-20 19:43:53.024931"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:43:53.780955"], ["updated_at", "2016-08-20 19:43:53.780955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (1.1ms)
  Rendered categories/index.html.erb within layouts/application (23.6ms)
  Rendered layouts/_navigation.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 1050ms (Views: 1049.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-20 19:43:54.840633"], ["updated_at", "2016-08-20 19:43:54.840633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (5.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('non_admin') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('non_admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "non_admin"], ["password_digest", "$2a$04$LK4shftf90c0Nzs8FoDwJ.fR/AhRnW6ECfaOy5/kD2B4qs5mhpoTu"], ["email", "non_admin@admin.pl"], ["created_at", "2016-08-20 19:43:54.938299"], ["updated_at", "2016-08-20 19:43:54.938299"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:43:54.944906"], ["updated_at", "2016-08-20 19:43:54.944906"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:43:54.951755"], ["updated_at", "2016-08-20 19:43:54.951755"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 117ms (Views: 37.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-20 19:43:55.074386"], ["updated_at", "2016-08-20 19:43:55.074386"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$rKmby83BMiDCdq8LD96leOBLtZ2G.MNbeBYiVyqH.WL1Kv89zlePS"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-20 19:43:55.079959"], ["updated_at", "2016-08-20 19:43:55.079959"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:43:55.087153"], ["updated_at", "2016-08-20 19:43:55.087153"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-20 19:43:55.089210"], ["updated_at", "2016-08-20 19:43:55.089210"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-20 21:43:55 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.5ms)
  Rendered categories/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navigation.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 26ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$qH.fl4mOHrIriS6c2SgEE.ZRGoV4Db4dsJordP2XpCAigqTCaRtCO"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-20 19:43:55.196051"], ["updated_at", "2016-08-20 19:43:55.196051"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2016-08-20 21:43:55 +0200
Processing by CategoriesController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$ZkkUzQglydtYtsMZ8/q8veIPdlOiR7NgTLv8y.91rpaYXcn002Tg6"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-20 19:43:55.208002"], ["updated_at", "2016-08-20 19:43:55.208002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories/new" for 127.0.0.1 at 2016-08-20 21:43:55 +0200
Processing by CategoriesController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------
CreateCategoriesTest: test_get_new_category_form_and_create_category
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$5ACz58gl5D0LfKCptuCGdO.G2jLqkMCO7TFdmmP/85kzBltiKSU.y"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-20 19:44:46.276762"], ["updated_at", "2016-08-20 19:44:46.276762"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-20 21:44:46 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 16ms (ActiveRecord: 0.2ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-20 21:44:46 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (1.1ms)
  Rendered categories/new.html.erb within layouts/application (484.1ms)
  Rendered layouts/_navigation.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 737ms (Views: 730.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-20 21:44:47 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"ksiazki"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('ksiazki') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "ksiazki"], ["created_at", "2016-08-20 19:44:47.159846"], ["updated_at", "2016-08-20 19:44:47.159846"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
Started GET "/categories" for 127.0.0.1 at 2016-08-20 21:44:47 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (1.5ms)
  Rendered categories/index.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_navigation.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
CreateCategoriesTest: test_wrong_category_name_fails_to_create_new_category
---------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["username", "admin"], ["password_digest", "$2a$04$7iWdNEzNFi8sNRoEoRCxjux0OomKKmp5M7.UzO7Z1jbXHYOfXzE9e"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-20 19:44:47.195438"], ["updated_at", "2016-08-20 19:44:47.195438"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2016-08-20 21:44:47 +0200
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.pl", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "admin@admin.pl"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/categories/new" for 127.0.0.1 at 2016-08-20 21:44:47 +0200
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_errors.html.erb (0.1ms)
  Rendered categories/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Started POST "/categories" for 127.0.0.1 at 2016-08-20 21:44:47 +0200
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"dupa"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('dupa') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_errors.html.erb (0.8ms)
  Rendered categories/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/_navigation.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
IndexCategoriesTest: test_should_display_categories_list
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:44:47.238728"], ["updated_at", "2016-08-20 19:44:47.238728"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Filmy') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Filmy"], ["created_at", "2016-08-20 19:44:47.240765"], ["updated_at", "2016-08-20 19:44:47.240765"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2016-08-20 21:44:47 +0200
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0
  Rendered categories/_category_row.html.erb (0.5ms)
  Rendered categories/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
CategoryTest: test_category_name_should_have_at_least_5_characters
------------------------------------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxx') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
CategoryTest: test_category_name_should_have_no_more_than_30_characters
-----------------------------------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-20 19:44:47.259988"], ["updated_at", "2016-08-20 19:44:47.259988"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
CategoryTest: test_category_name_should_be_present
--------------------------------------------------
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('sports') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
CategoriesControllerTest: test_should_get_show
----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:44:47.269125"], ["updated_at", "2016-08-20 19:44:47.269125"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCategory Load (0.1ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categories/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navigation.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------
CategoriesControllerTest: test_should_get_categories_index
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-20 19:44:47.282526"], ["updated_at", "2016-08-20 19:44:47.282526"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" LIMIT 5 OFFSET 0[0m
  Rendered categories/_category_row.html.erb (0.2ms)
  Rendered categories/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navigation.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
CategoriesControllerTest: test_should_get_new_if_admin
------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:44:47.290739"], ["updated_at", "2016-08-20 19:44:47.290739"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('admin') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('admin@admin.pl') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "email", "is_admin", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["password_digest", "$2a$04$SKjZ2Tj5u5U8z9TDoB3bxu6fcc7o7mpam3zgO3U8NUUrQC3BuyY8i"], ["email", "admin@admin.pl"], ["is_admin", "t"], ["created_at", "2016-08-20 19:44:47.295003"], ["updated_at", "2016-08-20 19:44:47.295003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
CategoriesControllerTest: test_should_not_get_new_if_not_admin
--------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Książki"], ["created_at", "2016-08-20 19:44:47.302131"], ["updated_at", "2016-08-20 19:44:47.302131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('non_admin') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('non_admin@admin.pl') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["username", "non_admin"], ["password_digest", "$2a$04$fBCxf0QHn7Lcvgvt4rhZbOfvar9AaW6uA38gW5WQf7ovSMyHaDBEG"], ["email", "non_admin@admin.pl"], ["created_at", "2016-08-20 19:44:47.307965"], ["updated_at", "2016-08-20 19:44:47.307965"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------
CategoriesControllerTest: test_shlould_redirect_when_user_not_logged_in_and_not_admin
-------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER('Książki') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Książki"], ["created_at", "2016-08-20 19:44:47.312829"], ["updated_at", "2016-08-20 19:44:47.312829"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Ksiazki"}}
Redirected to http://test.host/login
Filter chain halted as :ensure_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
